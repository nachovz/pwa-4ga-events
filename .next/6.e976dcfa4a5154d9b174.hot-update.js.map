{"version":3,"file":"6.e976dcfa4a5154d9b174.hot-update.js","sources":["webpack:///pages/event.js"],"sourcesContent":["import {Component} from \"react\";\nimport Moment from \"moment\";\nimport PropTypes from 'prop-types';\n//import ReactGA from 'react-ga';\nimport classNames from 'classnames';\nimport { withStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardActions from '@material-ui/core/CardActions';\nimport Avatar from '@material-ui/core/Avatar';\nimport IconButton from '@material-ui/core/IconButton';\nimport GroupIcon from '@material-ui/icons/Group';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport LocationCityIcon from '@material-ui/icons/LocationCity';\nimport DirectionsIcon from '@material-ui/icons/Directions';\nimport LabelIcon from '@material-ui/icons/Label';\nimport CheckIcon from '@material-ui/icons/Check';\nimport AnnouncementIcon from '@material-ui/icons/Announcement';\nimport Button from '@material-ui/core/Button';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport CustomChip from '../component/CustomChip.jsx';\nimport ReactHtmlParser from 'react-html-parser';\nimport {\n  FacebookShareButton,\n  GooglePlusShareButton,\n  LinkedinShareButton,\n  TwitterShareButton,\n  TelegramShareButton,\n  WhatsappShareButton,\n  PinterestShareButton,\n  RedditShareButton,\n  EmailShareButton,\n  \n  FacebookIcon,\n  TwitterIcon,\n  GooglePlusIcon,\n  LinkedinIcon,\n  PinterestIcon,\n  TelegramIcon,\n  WhatsappIcon,\n  RedditIcon,\n  EmailIcon\n} from 'react-share';\n\nimport Router from 'next/router';\nimport ReactPlaceholder from 'react-placeholder';\nimport \"react-placeholder/lib/reactPlaceholder.css\";\n\n//import {Consumer} from '../stores/AppContext.jsx';\n\nconst styles = theme => ({\n  card: {\n    maxWidth: 1000,\n    marginLeft: 'auto',\n    marginRight: 'auto',\n    marginBottom: 44\n  },\n  cardHeader: {\n      paddingBottom:0\n  },\n  media: {\n    height: 0,\n    paddingTop: '56.25%' // 16:9\n  },\n  actions: {\n    display: 'flex',\n    flexWrap: 'wrap',\n    padding: '8px 12px'\n  },\n  expand: {\n    transform: 'rotate(0deg)',\n    transition: theme.transitions.create('transform', {\n      duration: theme.transitions.duration.shortest\n    }),\n    marginLeft: 'auto'\n  },\n  expandOpen: {\n    transform: 'rotate(180deg)'\n  },\n  avatar: {\n    margin: 10\n  },\n  bigAvatar: {\n    width: 60,\n    height: 60\n  },\n  margin: {\n    marginRight: theme.spacing.unit * 2,\n    marginBottom: theme.spacing.unit\n  },\n  progress: {\n    margin: theme.spacing.unit * 2\n  },\n  badgesContainer: {\n    padding: theme.spacing.unit+\"px 0\",\n    display: \"flex\",\n    justifyContent: \"space-between\",\n    alignItems: \"flex-end\",\n    flexWrap: \"wrap\"\n  },\n  chip: {\n    marginLeft: 0,\n    color: theme.palette.primary.light,\n    backgroundColor: theme.palette.primary.contrastText,\n    border: \"1px solid \"+theme.palette.primary.light\n  },\n  chipAvatar: {\n    backgroundColor: theme.palette.primary.contrastText,\n    height:30,\n    width:30\n  },\n  clickable: {\n    boxShadow: \"0px 1px 5px 0px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 3px 1px -2px rgba(0, 0, 0, 0.12)\"\n  },\n  fab: {\n    position: 'fixed',\n    bottom: theme.spacing.unit * 2,\n    right: theme.spacing.unit * 2\n  },\n  eventContent:{\n    padding: theme.spacing.unit\n  }\n});\n\nclass Event extends Component {\n    \n    constructor(props){\n        super(props);\n        \n        this.state = {\n            event: {},\n            ready: false\n        }\n        \n        this.actions = {\n            loadApiData: () => {\n                console.log(this.props);\n                fetch('https://assets.breatheco.de/apis/event/'+this.props.router.query.id)\n                    .then( (response) => {\n                        if (response.status !== 200) {\n                            throw new Error(response.statusText);\n                        }\n                        return response.json();\n                    }).then( (data) => {\n                        //data = data.filter( event => Moment(event.event_date).diff( Moment(), \"d\" ) > 0 );\n                        this.setState({event: data, ready: true});\n                  }).catch(error => {\n                    console.log(error);\n                });\n            }\n        }\n    }\n    \n    static getInitialProps(props){\n        //console.log(props);\n        return{id: props.query.id };\n    }\n    \n    componentDidMount(){\n        //console.log(this.props);\n        //console.log(window);\n        \n        this.actions.loadApiData();\n    }\n    \n    render(){\n        const { classes } = this.props;\n        //const theid = this.props.id;\n        const url = typeof window !== 'undefined'  ? window.location.href : this.props.router.asPath;\n        //console.log(eventOnly);\n        //ReactGA.pageview(window.location.pathname + window.location.search);\n        //const event = eventOnly.find( event => parseInt(event.id, 10) === parseInt(theid, 10) );\n        \n        //if(typeof event === 'undefined') return( \n            \n            //);\n        const event = this.state.event;\n        let eventDay, eventTime = eventDay = \"TBA\";\n        let description = \"\";\n        if( event.event_date !== null && typeof event.event_date !== 'undefined' ){\n            eventDay = event.event_date.replace(/\\s/g, 'T').replace(/-/g, '').replace(/:/g, '');\n            eventDay = Moment(eventDay);\n            eventTime = eventDay.format(\"h:mm a\").toString();\n            eventDay = eventDay.format(\"MMMM D\").toString();\n            \n            description = event.description;\n        }\n        \n        return (\n            <ReactPlaceholder showLoadingAnimation={true} type='media' ready={this.state.ready} rows={4}>\n                \n                <Card className={classes.card}>\n                    <CardHeader\n                        avatar={\n                            <Avatar\n                                aria-label=\"Recipe\"\n                                src={event.logo_url || \"https://pbs.twimg.com/profile_images/930433054371434496/v8GNrusZ_400x400.jpg\"}\n                                className={classNames(classes.avatar, classes.bigAvatar)}\n                            />\n                        }\n                        title={event.title}\n                        subheader={eventDay+\" \"+eventTime}\n                        className={classes.cardHeader}\n                    />\n                    {\n                        event.banner_url &&\n                        <CardMedia\n                            className={classes.media}\n                            image={event.banner_url}\n                        />\n                    }\n                    <CardContent>\n                        <div className={classes.badgesContainer}>\n                            <div>\n                                { event.address && (\n                                    <CustomChip \n                                        classes={classes} \n                                        label={event.address}\n                                        clickable={true}\n                                        onClick={() => window.open(\"https://maps.google.com/maps?q=\"+event.address , \"_blank\")}\n                                        icon={<DirectionsIcon />}\n                                    />\n                                    )\n                                }\n                                { event.capacity && (\n                                    <CustomChip \n                                        classes={classes} \n                                        label={event.capacity}\n                                        tooltipTitle=\"Capacity\"\n                                        icon={<GroupIcon/>}\n                                    />\n                                    )\n                                }\n                                { event.type && (\n                                    <CustomChip \n                                        classes={classes} \n                                        label={event.type}\n                                        tooltipTitle=\"Type\"\n                                        icon={<LabelIcon/>}\n                                    />\n                                    )\n                                }\n                                { event.city_slug && (\n                                    <CustomChip \n                                        classes={classes} \n                                        label={event.city_slug.toUpperCase()}\n                                        icon={<LocationCityIcon/>}\n                                    />\n                                    )\n                                }\n                                { event.invite_only === \"1\" && (\n                                    <CustomChip \n                                        classes={classes} \n                                        label=\"Invitation required\"\n                                        tooltipTitle=\"Invitation Only\"\n                                        icon={<AnnouncementIcon/>}\n                                    />\n                                    )\n                                }\n                            </div>\n                            <div className='rsvpContainer'>\n                                <a href={event.url} style={{textDecoration: 'none'}}>\n                                    <Button size=\"large\" variant={\"raised\"} color=\"secondary\" className={classNames(classes.button)}>\n                                        RSVP\n                                    </Button>\n                                </a>\n                            </div>\n                        </div>\n                        <div className={classes.eventContent}>\n                            { ReactHtmlParser(description.replace(/<br>/g, '')) }\n                        </div>\n                    </CardContent>\n                    <CardActions className={classes.actions} disableActionSpacing>\n                        <IconButton aria-label=\"Facebook Share\">\n                            <FacebookShareButton \n                                url={url}> \n                                <FacebookIcon size={32} round />\n                            </FacebookShareButton>\n                        </IconButton>\n                        <IconButton aria-label=\"Facebook Share\">\n                            <GooglePlusShareButton url={url}>\n                                <GooglePlusIcon size={32} round />\n                            </GooglePlusShareButton>\n                        </IconButton>\n                        <IconButton aria-label=\"Facebook Share\">\n                            <TwitterShareButton url={url}>\n                                <TwitterIcon size={32} round />\n                            </TwitterShareButton >\n                        </IconButton>\n                        <IconButton aria-label=\"Facebook Share\">\n                            <LinkedinShareButton url={url}>\n                                <LinkedinIcon size={32} round />\n                            </LinkedinShareButton >\n                        </IconButton>\n                        <IconButton aria-label=\"Facebook Share\">\n                            <TelegramShareButton url={url}>\n                                <TelegramIcon size={32} round />\n                            </TelegramShareButton >\n                        </IconButton>\n                        <IconButton aria-label=\"Facebook Share\">\n                            <WhatsappShareButton url={url}>\n                                <WhatsappIcon size={32} round />\n                            </WhatsappShareButton >\n                        </IconButton>\n                        {\n                            event.banner_url &&\n                            <IconButton aria-label=\"Facebook Share\">\n                                <PinterestShareButton url={url} media={event.banner_url}>\n                                    <PinterestIcon size={32} round />\n                                </PinterestShareButton >\n                            </IconButton>\n                        }\n                        <IconButton aria-label=\"Facebook Share\">\n                            <RedditShareButton url={url}>\n                                <RedditIcon size={32} round />\n                            </RedditShareButton >\n                        </IconButton>\n                        <IconButton aria-label=\"Facebook Share\">\n                            <EmailShareButton url={url}>\n                                <EmailIcon size={32} round />\n                            </EmailShareButton >\n                        </IconButton>\n                    </CardActions>\n                    <Button \n                        id=\"fabButton\"\n                        variant=\"fab\" \n                        color=\"secondary\" \n                        className={classNames(classes.button, classes.fab)} \n                        onClick={() => window.open(event.url,\"_blank\")}>\n                        <Tooltip open={true} title=\"RSVP ➤ \" placement=\"left\">\n                            <CheckIcon/>\n                        </Tooltip>\n                    </Button>\n                </Card>\n            </ReactPlaceholder>\n        );\n    }\n}\nexport default withStyles(styles)(Event);\n\nEvent.propTypes = {\n    classes: PropTypes.object.isRequired\n};\n\n\n// WEBPACK FOOTER //\n// pages/event.js"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAsBA;AACA;AACA;AACA;AAGA;AAAA;AACA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;AADA;AAGA;AACA;AACA;AACA;AAHA;AAIA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AADA;AAGA;AALA;AAOA;AACA;AADA;AAGA;AACA;AADA;AAGA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAFA;AAIA;AACA;AADA;AAGA;AACA;AACA;AACA;AACA;AACA;AALA;AAOA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;AACA;AACA;AAHA;AAKA;AACA;AADA;AAGA;AACA;AACA;AACA;AAHA;AAKA;AACA;AADA;AArEA;AAAA;AACA;AAyEA;;;;;AAEA;AAAA;AACA;AADA;AACA;AAAA;AAEA;AACA;AACA;AAFA;AAKA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAfA;AARA;AAyBA;AACA;;;AAMA;AACA;AACA;AAEA;AACA;;;AAEA;AAAA;AACA;AAEA;AAEA;AACA;AAEA;AAEA;AACA;AAAA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAEA;AACA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAMA;AACA;AACA;AAVA;AAAA;AAAA;AAAA;AAAA;AAeA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AALA;AAAA;AAAA;AAAA;AAAA;AAWA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAJA;AAAA;AAAA;AAAA;AAAA;AAUA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAJA;AAAA;AAAA;AAAA;AAAA;AAUA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAHA;AAAA;AAAA;AAAA;AAAA;AASA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAJA;AAAA;AAAA;AAAA;AAAA;AASA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AADA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AACA;AACA;AACA;AACA;AAAA;AAAA;AALA;AAAA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAMA;;;AAvLA;AACA;AACA;AAAA;AAAA;AACA;;;;AAhCA;AACA;AAqNA;AAEA;AACA;AADA;;;;;;;;;;;;;;;;;;;;;;;A","sourceRoot":""}